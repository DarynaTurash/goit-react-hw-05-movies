"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[10],{10:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var n=r(439),a=r(861),i=r(687),o=r.n(i),s=r(437),c=r(243),u=(Math.pow(10,8),36e5);function l(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function d(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function f(e,t){var r;l(1,arguments);var n=d(null!==(r=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,i=p(e);if(i.date){var o=w(i.date,n);a=N(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s,c=a.getTime(),u=0;if(i.time&&(u=x(i.time),isNaN(u)))return new Date(NaN);if(!i.timezone){var f=new Date(c+u),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}return s=b(i.timezone),isNaN(s)?new Date(NaN):new Date(c+u+s)}var h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,v=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p(e){var t,r={},n=e.split(h.dateTimeDelimiter);if(n.length>2)return r;if(/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],h.timeZoneDelimiter.test(r.date)&&(r.date=e.split(h.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){var a=h.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}function w(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((n[1]||n[2]).length)}}function N(e,t){if(null===t)return new Date(NaN);var r=e.match(g);if(!r)return new Date(NaN);var n=!!r[4],a=j(r[1]),i=j(r[2])-1,o=j(r[3]),s=j(r[4]),c=j(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,s,c)?function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}(t,s,c):new Date(NaN);var u=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(T[t]||(S(e)?29:28))}(t,i,o)&&function(e,t){return t>=1&&t<=(S(e)?366:365)}(t,a)?(u.setUTCFullYear(t,i,Math.max(a,o)),u):new Date(NaN)}function j(e){return e?parseInt(e):1}function x(e){var t=e.match(m);if(!t)return NaN;var r=D(t[1]),n=D(t[2]),a=D(t[3]);return function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,a)?r*u+6e4*n+1e3*a:NaN}function D(e){return e&&parseFloat(e.replace(",","."))||0}function b(e){if("Z"===e)return 0;var t=e.match(v);if(!t)return 0;var r="+"===t[1]?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?r*(n*u+6e4*a):NaN}var T=[31,null,31,30,31,30,31,31,30,31,30,31];function S(e){return e%400===0||e%4===0&&e%100!==0}var y=r(2);function U(e){l(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,y.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function C(e){return l(1,arguments),U(e).getFullYear()}var Z=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,i,u,l,d,h,g,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s.Z));case 3:return r=e.sent,n=r.data,a=n.id,i=n.title||n.name,u=n.poster_path,l=f("".concat(n.release_date)),d=C(l),h=n.overview,g=n.genres.map((function(e){return e.name})).join(", "),m=(10*n.vote_average).toFixed(0),e.abrupt("return",{id:a,title:i,poster:u,releaseYear:d,overView:h,genres:g,userScore:m});case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),k=Z,F=r(791),Y=r(689),_=r(87),I=r(184),M=function(e){var t=e.poster,r=e.title,n=e.releaseYear,a=e.userScore,i=e.overView,o=e.genres;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{children:(0,I.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(t),alt:r})}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("h2",{children:[r,"(",n,")"]}),(0,I.jsxs)("p",{children:["User score: ",a,"%"]}),(0,I.jsx)("h3",{children:"Overview"}),(0,I.jsx)("p",{children:i}),(0,I.jsx)("h4",{children:"Genres"}),(0,I.jsx)("p",{children:o})]})]})},z=function(){return(0,I.jsxs)("div",{children:[(0,I.jsx)("h3",{children:"Additional information"}),(0,I.jsxs)("ul",{children:[(0,I.jsx)("li",{children:(0,I.jsx)(_.rU,{to:"cast",children:"Cast"})}),(0,I.jsx)("li",{children:(0,I.jsx)(_.rU,{to:"reviews",children:"Reviews"})})]})]})},E=function(){var e,t,r=(0,F.useState)({}),a=(0,n.Z)(r,2),i=a[0],o=a[1],s=(0,F.useState)(!1),c=(0,n.Z)(s,2),u=c[0],l=c[1],d=(0,Y.UO)().movieId,f=(0,Y.TH)(),h=(0,F.useRef)(null!==(e=null===(t=f.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return console.log(h),(0,F.useEffect)((function(){k(d).then((function(e){e?(l(!1),o(e)):(l(!0),o({}))})).catch((function(e){console.log(e)}))}),[d]),(0,I.jsx)("main",{children:u?(0,I.jsx)("p",{children:"Sorry, we did not get any information about this film, try to choose another film, please"}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("section",{children:[(0,I.jsx)(_.rU,{to:h.current,children:"Go back"}),(0,I.jsx)(M,{poster:i.poster,title:i.title,releaseYear:i.releaseYear,userScore:i.userScore,overView:i.overView,genres:i.genres})]}),(0,I.jsx)("section",{children:(0,I.jsx)(z,{})}),(0,I.jsx)("section",{children:(0,I.jsx)(Y.j3,{})})]})})}},437:function(e,t){t.Z="7bb2eceb0e28c427492123880ced91c1"}}]);
//# sourceMappingURL=10.5cb1fe5c.chunk.js.map