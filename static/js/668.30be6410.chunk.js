"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[668],{668:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r,o,c,i,a,s=t(165),u=t(861),l=t(439),p=t(791),d=t(87),h=t(689),f=t(402),x=t(168),m=t(867),v=m.ZP.ul(r||(r=(0,x.Z)(["\npadding-left: 25px;\n"]))),g=(0,m.ZP)(d.rU)(o||(o=(0,x.Z)(["\ntext-decoration: 0;\ncursor: pointer;\ncolor: black;\ntransition: font-weight 250ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 250ms cubic-bezier(0.25, 0.1, 0.25, 1);\n\n\n&:hover,\n&:focus {\ncolor: #FE9A05;\nfont-weight: 800;\ntransform: scale(1.1);\n}"]))),b=t(184),Z=function(e){var n=e.list,t=(0,h.TH)();return(0,b.jsx)(f.W,{children:(0,b.jsx)(v,{children:n.map((function(e){return(0,b.jsx)("li",{children:(0,b.jsx)(g,{to:"/movies/".concat(e.id),state:{from:t},children:e.original_title||e.name})},e.id)}))})})},j=t(437),k=t(243),w=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(n,"&api_key=").concat(j.Z));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),y=w,C=m.ZP.input(c||(c=(0,x.Z)(["\nfont-size: 16px;\nwidth: 250px;\npadding: 10px 15px 10px 15px;\nborder-radius: 10px;\nborder: 1px solid black;\ntransition: border-color 250ms cubic-bezier(0.25, 0.1, 0.25, 1);\noutline: none;\n\n&:hover,\n&:focus,\n&:active {\n    border-color: #FE9A05;\n}\n"]))),P=(0,m.ZP)(d.rU)(i||(i=(0,x.Z)(["\ncolor: white;\nbackground-color: #FE9A05;\nborder-radius: 10px;\npadding: 10px 15px 10px 15px;\ntext-decoration: none;\n\n&:hover,\n&:focus {\n    background-color: black;\n}\n"]))),S=m.ZP.form(a||(a=(0,x.Z)(["\ndisplay: flex;\nalign-items: center;\njustify-content: start;\ngap: 10px;\n"]))),E=function(e){var n=e.query,t=e.onSearch,r=e.onChange;return(0,b.jsx)(f.$,{children:(0,b.jsx)(f.W,{children:(0,b.jsxs)(S,{children:[(0,b.jsx)(C,{type:"text",value:n,onChange:function(e){return r(e.target.value)},autoFocus:!0,placeholder:"Enter the title of the movie..."}),(0,b.jsx)(P,{to:"/movies?movieName=".concat(n),onClick:t,children:"Search"})]})})})},_=t(686),N=t.n(_),z=t(741),F=function(){var e=(0,p.useState)(""),n=(0,l.Z)(e,2),t=n[0],r=n[1],o=(0,p.useState)([]),c=(0,l.Z)(o,2),i=c[0],a=c[1],f=(0,p.useState)("idle"),x=(0,l.Z)(f,2),m=x[0],v=x[1],g=(0,d.lr)(),j=(0,l.Z)(g,1)[0].get("movieName"),k=(0,h.s0)();return(0,p.useEffect)((function(){if(j){var e=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v("pending"),e.next=4,y(j);case 4:0===(n=e.sent).length?(N().Notify.warning("Sorry, there are no matches. Please, check if the title you wrote is correct."),v("idle"),k("/movies"),a([]),r("")):(v("resolved"),a(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v("rejected");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),r(j)}}),[j,k]),(0,b.jsxs)("main",{children:[(0,b.jsx)(E,{query:t,onSearch:function(e){e.preventDefault(),""!==t?k("/movies?movieName=".concat(encodeURIComponent(t))):N().Notify.info("Please, enter something into field")},onChange:r}),"pending"===m&&(0,b.jsx)(z.Z,{}),"resolved"===m&&(0,b.jsx)(Z,{list:i}),"rejected"===m&&(0,b.jsx)("p",{children:"Error, something went wrong, please try again"})]})}},437:function(e,n){n.Z="7bb2eceb0e28c427492123880ced91c1"}}]);
//# sourceMappingURL=668.30be6410.chunk.js.map