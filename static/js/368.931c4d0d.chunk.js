"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[368],{368:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(861),c=n(439),a=n(687),o=n.n(a),i=n(791),s=n(87),u=n(689),l=n(184),h=function(e){var t=e.list,n=(0,u.TH)();return(0,l.jsx)("div",{children:(0,l.jsx)("ul",{children:t.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(s.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.original_title||e.name})},e.id)}))})})},p=n(437),f=n(243),v=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&api_key=").concat(p.Z));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=v,m=function(e){var t=e.query,n=e.onSearch,r=e.onChange;return(0,l.jsxs)("form",{children:[(0,l.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)}}),(0,l.jsx)(s.rU,{to:"/movies?movieName=".concat(t),onClick:n,children:"Search"})]})},x=n(686),g=n.n(x),j=n(154),k=function(){var e=(0,i.useState)(""),t=(0,c.Z)(e,2),n=t[0],a=t[1],p=(0,i.useState)([]),f=(0,c.Z)(p,2),v=f[0],x=f[1],k=(0,i.useState)("idle"),w=(0,c.Z)(k,2),y=w[0],Z=w[1],b=(0,s.lr)(),C=(0,c.Z)(b,1)[0].get("movieName"),S=(0,u.s0)();return(0,i.useEffect)((function(){if(C){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z("pending"),e.next=4,d(C);case 4:0===(t=e.sent).length?(g().Notify.warning("Sorry, there are no matches. Please, check if the title you wrote is correct."),Z("idle"),S("/movies"),x([]),a("")):(Z("resolved"),x(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z("rejected");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),a(C)}}),[C,S]),(0,l.jsxs)("main",{children:[(0,l.jsx)(m,{query:n,onSearch:function(e){e.preventDefault(),S("/movies?movieName=".concat(encodeURIComponent(n)))},onChange:a}),"pending"===y&&(0,l.jsx)(j.Z,{}),"resolved"===y&&(0,l.jsx)(h,{list:v}),"rejected"===y&&(0,l.jsx)("p",{children:"Error, something went wrong, please try again"})]})}},437:function(e,t){t.Z="7bb2eceb0e28c427492123880ced91c1"}}]);
//# sourceMappingURL=368.931c4d0d.chunk.js.map